{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aditya Kocherlakota\\\\Desktop\\\\message\\\\messsage\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport './components/codeIn/CodeIn';\nimport CodeIn from './components/codeIn/CodeIn';\nimport DisplayArea from './components/DisplayArea/DisplayArea';\nimport MakeRoom from './components/make room/MakeRoom';\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect('/');\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.onNameChange = event => {\n      console.log(this.state.input);\n      this.setState({\n        input: event.target.value\n      });\n    };\n\n    this.onMessageChange = event => {\n      this.setState({\n        message: event.target.value\n      });\n      console.log(this.state.message);\n    };\n\n    this.onSubmit = () => {\n      if (this.state.input) {\n        this.setState({\n          route: this.state.route + 1,\n          name: this.state.input\n        });\n      }\n    };\n\n    this.onSend = () => {\n      if (this.state.message) {\n        socket.emit('chatMessage', {\n          \"name\": this.state.name,\n          \"messageSent\": this.state.message\n        });\n      }\n    };\n\n    this.onRoomChange = event => {\n      this.setState({\n        room: event.target.value\n      });\n    };\n\n    this.onEnter = () => {\n      const postBody = {\n        room: this.state.room\n      };\n      const requestMetadata = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postBody)\n      };\n      fetch('/join', requestMetadata).then(resp => resp.json()).then(status => {\n        console.log(status);\n\n        if (status.val === \"YES\") {\n          socket.emit('room', this.state.room);\n          this.setState({\n            route: this.state.route + 1\n          });\n        } else {\n          console.log(\"failed to enter room\");\n        }\n      });\n    };\n\n    this.onCreate = () => {\n      const postBody = {\n        room: this.state.room\n      };\n      const requestMetadata = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postBody)\n      };\n      fetch('/create', requestMetadata).then(resp => resp.json()).then(status => {\n        console.log(status);\n\n        if (status.val === \"YES\") {\n          socket.emit('room', this.state.room);\n          this.setState({\n            route: this.state.route + 1\n          });\n        } else {\n          console.log(\"room already exists\");\n        }\n      });\n    };\n\n    this.state = {\n      name: '',\n      input: '',\n      messageList: [],\n      message: '',\n      route: 0,\n      room: ''\n    };\n  }\n\n  componentDidMount() {\n    const socket = io.connect('/');\n    socket.on('chatMessage', data => {\n      console.log(data);\n      this.setState({\n        messageList: this.state.messageList.concat(data)\n      });\n      console.log(this.state.messageList);\n    });\n  }\n\n  render() {\n    if (this.state.route === 2) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(DisplayArea, {\n          onMessageChange: this.onMessageChange,\n          messageList: this.state.messageList,\n          onSend: this.onSend\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(CodeIn, {\n          onSubmit: this.onSubmit,\n          onNameChange: this.onNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(MakeRoom, {\n          onRoomChange: this.onRoomChange,\n          onEnter: this.onEnter,\n          onCreate: this.onCreate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Aditya Kocherlakota/Desktop/message/messsage/src/App.js"],"names":["React","CodeIn","DisplayArea","MakeRoom","io","socket","connect","App","Component","constructor","onNameChange","event","console","log","state","input","setState","target","value","onMessageChange","message","onSubmit","route","name","onSend","emit","onRoomChange","room","onEnter","postBody","requestMetadata","method","headers","body","JSON","stringify","fetch","then","resp","json","status","val","onCreate","messageList","componentDidMount","on","data","concat","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './components/codeIn/CodeIn'\nimport CodeIn from './components/codeIn/CodeIn';\nimport DisplayArea from './components/DisplayArea/DisplayArea'\nimport MakeRoom from './components/make room/MakeRoom'\nimport io from \"socket.io-client\";\n\nconst socket = io.connect('/');\n\nclass App extends React.Component {\n  constructor(){\n    \n    super();\n    this.state = {\n      name:'',\n      input:'',\n      messageList:[],\n      message:'',\n      route:0,\n      room:''\n    }\n  }\n\n  componentDidMount(){\n\n    const socket = io.connect('/');\n    socket.on('chatMessage', data =>{\n      console.log(data);\n      this.setState({messageList : this.state.messageList.concat(data)})\n      console.log(this.state.messageList);\n    })\n\n  }\n\n\n  onNameChange = (event) =>{\n    console.log(this.state.input);\n    this.setState({input:event.target.value});\n    \n  }\n\n\n  onMessageChange = (event) =>{\n    this.setState({message:event.target.value});\n    console.log(this.state.message)\n  }\n\n  onSubmit = () =>{\n\n    if(this.state.input){\n      this.setState({\n        route:this.state.route+1,\n        name:this.state.input\n      })\n    }\n  }\n\n  onSend = () =>{\n    if(this.state.message){\n      socket.emit('chatMessage',{\"name\":this.state.name,\"messageSent\":this.state.message})\n    }\n  }\n\n  onRoomChange = (event) =>{\n    this.setState({room:event.target.value})\n  }\n\n  onEnter = () =>{\n\n    const postBody = {\n      room:this.state.room\n    }\n\n    const requestMetadata = {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(postBody)\n      };\n\n    fetch('/join', requestMetadata)\n      .then(resp => resp.json())\n      .then(status =>{\n        console.log(status);\n        if(status.val ===\"YES\"){\n          socket.emit('room',this.state.room);\n          this.setState({route:this.state.route+1})\n        }\n        else{\n          console.log(\"failed to enter room\")\n        }\n      });\n\n  }\n\n  onCreate = () =>{\n\n    const postBody = {\n      room:this.state.room\n    }\n\n    const requestMetadata = {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(postBody)\n    };\n\n    fetch('/create',requestMetadata)\n    .then(resp =>resp.json())\n    .then(status =>{\n      console.log(status);\n      if(status.val === \"YES\"){\n        socket.emit('room',this.state.room)\n        this.setState({route:this.state.route+1})\n      }\n      else{\n        console.log(\"room already exists\");\n      }\n    });\n\n\n  }\n\n  \n\n  render(){\n    if(this.state.route===2){\n      return(\n        <div className=\"App\">\n\n          <DisplayArea  onMessageChange={this.onMessageChange}  messageList={this.state.messageList} onSend={this.onSend}/>\n\n        </div>\n      )\n    }\n    else{\n      return(\n        <div className = \"App\">\n        <CodeIn onSubmit={this.onSubmit} onNameChange = {this.onNameChange}/>\n        <MakeRoom onRoomChange={this.onRoomChange} onEnter={this.onEnter} onCreate={this.onCreate}/>\n      </div>\n      )\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}