{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aditya Kocherlakota\\\\Desktop\\\\message\\\\messsage\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport './components/codeIn/CodeIn';\nimport CodeIn from './components/codeIn/CodeIn';\nimport DisplayArea from './components/DisplayArea/DisplayArea';\nimport MakeRoom from './components/make room/MakeRoom';\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect('/');\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.onNameChange = event => {\n      console.log(this.state.input);\n      this.setState({\n        input: event.target.value\n      });\n    };\n\n    this.onMessageChange = event => {\n      this.setState({\n        message: event.target.value\n      });\n      console.log(this.state.message);\n    };\n\n    this.onSend = () => {\n      if (this.state.message) {\n        socket.emit('chatMessage', {\n          \"name\": this.state.name,\n          \"messageSent\": this.state.message\n        });\n      }\n    };\n\n    this.onRoomChange = event => {\n      this.setState({\n        room: event.target.value\n      });\n    };\n\n    this.onEnter = () => {\n      const postBody = {\n        room: this.state.room\n      };\n      const requestMetadata = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postBody)\n      };\n      fetch('/join', requestMetadata).then(resp => resp.json()).then(status => {\n        console.log(status);\n\n        if (status.val === \"YES\") {\n          socket.emit('room', this.state.room);\n          this.setState({\n            route: \"chat\"\n          });\n        } else {\n          console.log(\"failed to enter room\");\n        }\n      });\n    };\n\n    this.onCreate = () => {\n      const postBody = {\n        room: this.state.room\n      };\n      const requestMetadata = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postBody)\n      };\n      fetch('/create', requestMetadata).then(resp => resp.json()).then(status => {\n        console.log(status);\n\n        if (status.val === \"YES\") {\n          socket.emit('room', this.state.room);\n          this.setState({\n            route: \"chat\"\n          });\n        } else {\n          console.log(\"room already exists\");\n        }\n      });\n    };\n\n    this.state = {\n      name: '',\n      input: '',\n      messageList: [],\n      message: '',\n      route: 0,\n      room: ''\n    };\n  }\n\n  componentDidMount() {\n    socket.on('chatMessage', data => {\n      console.log(data);\n      this.setState({\n        messageList: this.state.messageList.concat(data)\n      });\n      console.log(this.state.messageList);\n    });\n  }\n\n  render() {\n    if (this.state.route === \"chat\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(DisplayArea, {\n          onMessageChange: this.onMessageChange,\n          messageList: this.state.messageList,\n          onSend: this.onSend\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(MakeRoom, {\n          onRoomChange: this.onRoomChange,\n          onEnter: this.onEnter,\n          onCreate: this.onCreate,\n          onNameChange: this.onNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Aditya Kocherlakota/Desktop/message/messsage/src/App.js"],"names":["React","CodeIn","DisplayArea","MakeRoom","io","socket","connect","App","Component","constructor","onNameChange","event","console","log","state","input","setState","target","value","onMessageChange","message","onSend","emit","name","onRoomChange","room","onEnter","postBody","requestMetadata","method","headers","body","JSON","stringify","fetch","then","resp","json","status","val","route","onCreate","messageList","componentDidMount","on","data","concat","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './components/codeIn/CodeIn'\nimport CodeIn from './components/codeIn/CodeIn';\nimport DisplayArea from './components/DisplayArea/DisplayArea'\nimport MakeRoom from './components/make room/MakeRoom'\nimport io from \"socket.io-client\";\n\nconst socket = io.connect('/');\n\nclass App extends React.Component {\n  constructor(){\n    \n    super();\n    this.state = {\n      name:'',\n      input:'',\n      messageList:[],\n      message:'',\n      route:0,\n      room:''\n    }\n  }\n\n  componentDidMount(){\n    socket.on('chatMessage', data =>{\n      console.log(data);\n      this.setState({messageList : this.state.messageList.concat(data)})\n      console.log(this.state.messageList);\n    })\n\n  }\n\n\n  onNameChange = (event) =>{\n    console.log(this.state.input);\n    this.setState({input:event.target.value});\n    \n  }\n\n\n  onMessageChange = (event) =>{\n    this.setState({message:event.target.value});\n    console.log(this.state.message)\n  }\n\n  onSend = () =>{\n    if(this.state.message){\n      socket.emit('chatMessage',{\"name\":this.state.name,\"messageSent\":this.state.message})\n    }\n  }\n\n  onRoomChange = (event) =>{\n    this.setState({room:event.target.value})\n  }\n\n  onEnter = () =>{\n\n    const postBody = {\n      room:this.state.room\n    }\n\n    const requestMetadata = {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(postBody)\n      };\n\n    fetch('/join', requestMetadata)\n      .then(resp => resp.json())\n      .then(status =>{\n        console.log(status);\n        if(status.val ===\"YES\"){\n          socket.emit('room',this.state.room);\n          this.setState({route:\"chat\"})\n        }\n        else{\n          console.log(\"failed to enter room\")\n        }\n      });\n\n  }\n\n  onCreate = () =>{\n\n    const postBody = {\n      room:this.state.room\n    }\n\n    const requestMetadata = {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(postBody)\n    };\n\n    fetch('/create',requestMetadata)\n    .then(resp =>resp.json())\n    .then(status =>{\n      console.log(status);\n      if(status.val === \"YES\"){\n        socket.emit('room',this.state.room)\n        this.setState({route:\"chat\"})\n      }\n      else{\n        console.log(\"room already exists\");\n      }\n    });\n\n\n  }\n\n  \n\n  render(){\n    if(this.state.route===\"chat\"){\n      return(\n        <div className=\"App\">\n\n          <DisplayArea  onMessageChange={this.onMessageChange}  messageList={this.state.messageList} onSend={this.onSend}/>\n\n        </div>\n      )\n    }\n    else{\n      return(\n        <div className = \"App\">\n        <MakeRoom onRoomChange={this.onRoomChange} onEnter={this.onEnter} onCreate={this.onCreate} onNameChange = {this.onNameChange}/>\n      </div>\n      )\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}